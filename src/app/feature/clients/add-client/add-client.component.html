<div
  class="max-w-3xl mx-auto bg-bg-secondary border border-border rounded-[32px] overflow-hidden transition-colors duration-300">
  <div class="mb-8 flex items-center bg-bg-primary/50 border-b border-border justify-between">
    <div class="p-8">
      <h2 class="text-2xl font-black text-text-primary">Nuevo Cliente</h2>
      <p class="text-text-muted text-sm font-medium">
        Completa los datos para dar de alta al cliente en el sistema.
      </p>
    </div>
    <a routerLink="/app/clients"
      class="text-text-muted hover:text-text-primary transition-colors flex items-center gap-1 font-bold text-sm px-10">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
      </svg>
      Volver a la lista
    </a>
  </div>
  <form class="px-8 pb-8" #f="ngForm" (ngSubmit)="register(f)">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <app-input name="nombreCliente" label="Nombre Completo" [(ngModel)]="client.name" [required]="true"
        [maxlength]="100" placeholder="Nombre Completo" [minLength]="3" [showErrors]="formSubmitted()"></app-input>

      <app-input name="phone" [placeholder]="'00000000'" label="Teléfono" [(ngModel)]="client.phone" [required]="true"
        [maxlength]="15" [minLength]="8" [showErrors]="formSubmitted()"></app-input>

      <app-input name="email" label="Correo Electrónico" type="email" [(ngModel)]="client.email"
        [placeholder]="'example@gmail.com'" [required]="true" [showErrors]="formSubmitted()"></app-input>

      <app-input name="direccionCliente" label="Dirección" [(ngModel)]="client.address" [required]="true"
        [showErrors]="formSubmitted()"></app-input>

      <app-input name="taxNumber" label="Número de NIT/DUI" placeholder="00000000" [(ngModel)]="client.taxId"
        [required]="true" [showErrors]="formSubmitted()"></app-input>

      <app-input label="Fecha de Nacimiento" type="date" [(ngModel)]="client.birthDate" name="fechaNacimiento"
        [required]="true" [showErrors]="formSubmitted()"></app-input>

      <app-input label="Dirección de Entrega Preferida" type="text" [(ngModel)]="client.preferredDeliveryAddress"
        name="direccionEntregaPreferida" [required]="false" [showErrors]="formSubmitted()"></app-input>

      <app-custom-select [label]="'Tipo de Cliente'" [options]="optionsTypeClient" [selected]="'REGULAR'"
        (onSelectionChange)="selectTypeClient($event)"></app-custom-select>

      <div class="md:col-span-2 pt-2">
        <app-checkbox [(ngModel)]="client.flagUser" name="flagUser"
          label="¿Deseas crear una cuenta de usuario para este cliente?" [required]="false">
        </app-checkbox>
      </div>

      @if(client.flagUser){
      <div class="md:col-span-2 flex items-center gap-2">
        <app-input name="password" class="flex-1" placeholder="password" type="password" label="Contraseña"
          [(ngModel)]="client.password" [required]="true" [showErrors]="formSubmitted()">
        </app-input>
        <app-button label="" size="sm" title="Generar contraseña" btnType="secondary" type="button" icon="refresh"
          (btnClick)="generatePassword()" class="mt-7">
        </app-button>
      </div>
      }

    </div>
    <div class="py-4"></div>
    <app-button [type]="'submit'" label="Crear Cliente" icon="add-plus" [isLoading]="loading()">
    </app-button>
  </form>
</div>