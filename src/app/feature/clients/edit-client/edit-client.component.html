<div class="p-6 max-w-4xl mx-auto">
  <div class="mb-8 flex items-center justify-between">
    <div>
      <h1 class="text-2xl font-bold text-zinc-900 tracking-tight">Editar Cliente</h1>
      <p class="text-zinc-500 mt-1">Actualiza la información del cliente existente.</p>
    </div>
    <a
      routerLink="/app/clients"
      class="text-zinc-500 hover:text-zinc-700 transition-colors flex items-center gap-1 font-medium text-sm"
    >
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M10 19l-7-7m0 0l7-7m-7 7h18"
        />
      </svg>
      Volver a la lista
    </a>
  </div>

  @if (loadingData()) {
  <div class="flex justify-center py-20 bg-white rounded-3xl border border-zinc-200">
    <div
      class="w-10 h-10 border-4 border-zinc-100 border-t-blue-600 rounded-full animate-spin"
    ></div>
  </div>
  } @else {
  <form
    (ngSubmit)="onSubmit()"
    class="bg-white p-8 rounded-3xl border border-zinc-200 shadow-sm space-y-8"
  >
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div class="space-y-4">
        <app-input
          name="nombreCliente"
          label="Nombre Completo"
          [(ngModel)]="client.name"
          required
        ></app-input>

        <div class="grid grid-cols-2 gap-4">
          <app-input
            name="phone"
            placeholder="0000-0000"
            label="Teléfono"
            [(ngModel)]="client.phone"
          ></app-input>

          <app-input
            name="fechaNacimiento"
            label="Fecha de Nacimiento"
            type="date"
            [(ngModel)]="client.birthDate"
          ></app-input>
        </div>

        <app-input
          name="email"
          label="Correo Electrónico"
          type="email"
          [(ngModel)]="client.email"
          placeholder="example@gmail.com"
        ></app-input>

        <app-custom-select
          [label]="'Tipo de Cliente'"
          [options]="optionsTypeClient"
          [selected]="client.clientType"
          (onSelectionChange)="selectTypeClient($event)"
        ></app-custom-select>
      </div>

      <div class="space-y-4">
        <app-input
          name="direccionCliente"
          label="Dirección"
          [(ngModel)]="client.address"
        ></app-input>

        <div class="flex flex-col gap-2">
          <label class="text-xs font-bold text-zinc-500 uppercase tracking-widest ml-1"
            >Notas Adicionales</label
          >
          <textarea
            [(ngModel)]="client.notes"
            name="notasAdicionales"
            rows="4"
            placeholder="Alergias, preferencias de color, etc..."
            class="w-full px-5 py-3.5 bg-zinc-50 border border-zinc-200 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all text-zinc-800 resize-none"
          ></textarea>
        </div>
      </div>
    </div>

    <app-button
      type="submit"
      [label]="submitting() ? 'Guardando...' : 'Actualizar Cliente'"
      [isLoading]="submitting()"
      icon="add-plus"
    >
    </app-button>
  </form>
  }
</div>
